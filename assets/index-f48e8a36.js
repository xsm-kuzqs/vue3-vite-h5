import{d as e,r as t,e as a,f as l,w as i,o,C as s,a as c,b as r,c as n,n as u,T as d,g as p,D as f,E as m,m as v,F as b,s as g,p as h,j as w,x as y,q as x,l as j,h as _,y as E,k,i as S,_ as z}from"./index-2a31cbfc.js";import{u as C,a as L,G as P,b as B}from"./index-d4e780e9.js";import{c as I,t as T,n as M,d as F,q as D,w as O,a as $,A as X,o as Y,j as q,k as H,C as R,D as A,E as G,p as U,x as W,m as J,H as K,I as N,F as Q,G as V,i as Z}from"./index-49a54454.js";const[ee,te]=I("swipe"),ae={loop:T,width:M,height:M,vertical:Boolean,autoplay:F(0),duration:F(500),touchable:T,lazyRender:Boolean,initialSwipe:F(0),indicatorColor:String,showIndicators:T,stopPropagation:T},le=Symbol(ee);const ie=U(e({name:ee,props:ae,emits:["change","dragStart","dragEnd"],setup(e,{emit:d,slots:p}){const f=t(),m=t(),v=a({rect:null,width:0,height:0,offset:0,active:0,swiping:!1});let b=!1;const g=C(),{children:h,linkChildren:w}=D(le),y=l((()=>h.length)),x=l((()=>v[e.vertical?"height":"width"])),j=l((()=>e.vertical?g.deltaY.value:g.deltaX.value)),_=l((()=>{if(v.rect){return(e.vertical?v.rect.height:v.rect.width)-x.value*y.value}return 0})),E=l((()=>x.value?Math.ceil(Math.abs(_.value)/x.value):y.value)),k=l((()=>y.value*x.value)),S=l((()=>(v.active+y.value)%y.value)),z=l((()=>{const t=e.vertical?"vertical":"horizontal";return g.direction.value===t})),P=l((()=>{const t={transitionDuration:"".concat(v.swiping?0:e.duration,"ms"),transform:"translate".concat(e.vertical?"Y":"X","(").concat(+v.offset.toFixed(2),"px)")};if(x.value){const a=e.vertical?"height":"width",l=e.vertical?"width":"height";t[a]="".concat(k.value,"px"),t[l]=e[l]?"".concat(e[l],"px"):""}return t})),B=(t,a=0)=>{let l=t*x.value;e.loop||(l=Math.min(l,-_.value));let i=a-l;return e.loop||(i=G(i,_.value,0)),i},I=({pace:t=0,offset:a=0,emitChange:l})=>{if(y.value<=1)return;const{active:i}=v,o=(t=>{const{active:a}=v;return t?e.loop?G(a+t,-1,y.value):G(a+t,0,E.value):a})(t),s=B(o,a);if(e.loop){if(h[0]&&s!==_.value){const e=s<_.value;h[0].setOffset(e?k.value:0)}if(h[y.value-1]&&0!==s){const e=s>0;h[y.value-1].setOffset(e?-k.value:0)}}v.active=o,v.offset=s,l&&o!==i&&d("change",S.value)},T=()=>{v.swiping=!0,v.active<=-1?I({pace:y.value}):v.active>=y.value&&I({pace:-y.value})},M=()=>{T(),g.reset(),R((()=>{v.swiping=!1,I({pace:1,emitChange:!0})}))};let F;const U=()=>clearTimeout(F),W=()=>{U(),+e.autoplay>0&&y.value>1&&(F=setTimeout((()=>{M(),W()}),+e.autoplay))},J=(t=+e.initialSwipe)=>{if(!f.value)return;const a=()=>{var a,l;if(!H(f)){const t={width:f.value.offsetWidth,height:f.value.offsetHeight};v.rect=t,v.width=+(null!=(a=e.width)?a:t.width),v.height=+(null!=(l=e.height)?l:t.height)}y.value&&-1===(t=Math.min(y.value-1,t))&&(t=y.value-1),v.active=t,v.swiping=!0,v.offset=B(t),h.forEach((e=>{e.setOffset(0)})),W()};H(f)?u().then(a):a()},K=()=>J(v.active);let N;const Q=t=>{!e.touchable||t.touches.length>1||(g.start(t),b=!1,N=Date.now(),U(),T())},V=()=>{if(!e.touchable||!v.swiping)return;const t=Date.now()-N,a=j.value/t;if((Math.abs(a)>.25||Math.abs(j.value)>x.value/2)&&z.value){const t=e.vertical?g.offsetY.value:g.offsetX.value;let a=0;a=e.loop?t>0?j.value>0?-1:1:0:-Math[j.value>0?"ceil":"floor"](j.value/x.value),I({pace:a,emitChange:!0})}else j.value&&I({pace:0});b=!1,v.swiping=!1,d("dragEnd",{index:S.value}),W()},Z=(t,a)=>{const l=a===S.value,i=l?{backgroundColor:e.indicatorColor}:void 0;return n("i",{style:i,class:te("indicator",{active:l})},null)};return L({prev:()=>{T(),g.reset(),R((()=>{v.swiping=!1,I({pace:-1,emitChange:!0})}))},next:M,state:v,resize:K,swipeTo:(t,a={})=>{T(),g.reset(),R((()=>{let l;l=e.loop&&t===y.value?0===v.active?0:t:t%y.value,a.immediate?R((()=>{v.swiping=!1})):v.swiping=!1,I({pace:l-v.active,emitChange:!0})}))}}),w({size:x,props:e,count:y,activeIndicator:S}),i((()=>e.initialSwipe),(e=>J(+e))),i(y,(()=>J(v.active))),i((()=>e.autoplay),W),i([O,$,()=>e.width,()=>e.height],K),i(X(),(e=>{"visible"===e?W():U()})),o(J),s((()=>J(v.active))),Y((()=>J(v.active))),c(U),r(U),q("touchmove",(t=>{if(e.touchable&&v.swiping&&(g.move(t),z.value)){!e.loop&&(0===v.active&&j.value>0||v.active===y.value-1&&j.value<0)||(A(t,e.stopPropagation),I({offset:j.value}),b||(d("dragStart",{index:S.value}),b=!0))}}),{target:m}),()=>{var t;return n("div",{ref:f,class:te()},[n("div",{ref:m,style:P.value,class:te("track",{vertical:e.vertical}),onTouchstartPassive:Q,onTouchend:V,onTouchcancel:V},[null==(t=p.default)?void 0:t.call(p)]),p.indicator?p.indicator({active:S.value,total:y.value}):e.showIndicators&&y.value>1?n("div",{class:te("indicators",{vertical:e.vertical})},[Array(y.value).fill("").map(Z)]):void 0])}}})),[oe,se]=I("swipe-item");const ce=U(e({name:oe,setup(e,{slots:t}){let i;const s=a({offset:0,inited:!1,mounted:!1}),{parent:c,index:r}=W(le);if(!c)return;const d=l((()=>{const e={},{vertical:t}=c.props;return c.size.value&&(e[t?"height":"width"]="".concat(c.size.value,"px")),s.offset&&(e.transform="translate".concat(t?"Y":"X","(").concat(s.offset,"px)")),e})),p=l((()=>{const{loop:e,lazyRender:t}=c.props;if(!t||i)return!0;if(!s.mounted)return!1;const a=c.activeIndicator.value,l=c.count.value-1,o=0===a&&e?l:a-1,n=a===l&&e?0:a+1;return i=r.value===a||r.value===o||r.value===n,i}));return o((()=>{u((()=>{s.mounted=!0}))})),L({setOffset:e=>{s.offset=e}}),()=>{var e;return n("div",{class:se(),style:d.value},[p.value?null==(e=t.default)?void 0:e.call(t):null])}}})),[re,ne]=I("tag");const ue=U(e({name:re,props:{size:String,mark:Boolean,show:T,type:J("default"),color:String,plain:Boolean,round:Boolean,textColor:String,closeable:Boolean},emits:["close"],setup(e,{slots:t,emit:a}){const l=e=>{e.stopPropagation(),a("close",e)},i=()=>{var a;const{type:i,mark:o,plain:s,round:c,size:r,closeable:u}=e,d={mark:o,plain:s,round:c};r&&(d[r]=r);const p=u&&n(N,{name:"cross",class:[ne("close"),K],onClick:l},null);return n("span",{style:e.plain?{color:e.textColor||e.color,borderColor:e.color}:{color:e.textColor,background:e.color},class:ne([d,i])},[null==(a=t.default)?void 0:a.call(t),p])};return()=>n(d,{name:e.closeable?"van-fade":void 0},{default:()=>[e.show?i():null]})}})),[de,pe]=I("image");const fe=U(e({name:de,props:{src:String,alt:String,fit:String,position:String,round:Boolean,block:Boolean,width:M,height:M,radius:M,lazyLoad:Boolean,iconSize:M,showError:T,errorIcon:J("photo-fail"),iconPrefix:String,showLoading:T,loadingIcon:J("photo"),crossorigin:String,referrerpolicy:String},emits:["load","error"],setup(e,{emit:a,slots:s}){const c=t(!1),d=t(!0),b=t(),{$Lazyload:g}=p().proxy,h=l((()=>{const t={width:Q(e.width),height:Q(e.height)};return V(e.radius)&&(t.overflow="hidden",t.borderRadius=Q(e.radius)),t}));i((()=>e.src),(()=>{c.value=!1,d.value=!0}));const w=e=>{d.value&&(d.value=!1,a("load",e))},y=()=>{const e=new Event("load");Object.defineProperty(e,"target",{value:b.value,enumerable:!0}),w(e)},x=e=>{c.value=!0,d.value=!1,a("error",e)},j=(t,a,l)=>l?l():n(N,{name:t,size:e.iconSize,class:a,classPrefix:e.iconPrefix},null),_=()=>{if(c.value||!e.src)return;const t={alt:e.alt,class:pe("img"),style:{objectFit:e.fit,objectPosition:e.position},crossorigin:e.crossorigin,referrerpolicy:e.referrerpolicy};return e.lazyLoad?f(n("img",v({ref:b},t),null),[[m("lazy"),e.src]]):n("img",v({ref:b,src:e.src,onLoad:w,onError:x},t),null)},E=({el:e})=>{const t=()=>{e===b.value&&d.value&&y()};b.value?t():u(t)},k=({el:e})=>{e!==b.value||c.value||x()};return g&&Z&&(g.$on("loaded",E),g.$on("error",k),r((()=>{g.$off("loaded",E),g.$off("error",k)}))),o((()=>{u((()=>{var t;(null==(t=b.value)?void 0:t.complete)&&!e.lazyLoad&&y()}))})),()=>{var t;return n("div",{class:pe({round:e.round,block:e.block}),style:h.value},[_(),d.value&&e.showLoading?n("div",{class:pe("loading")},[j(e.loadingIcon,pe("loading-icon"),s.loading)]):c.value&&e.showError?n("div",{class:pe("error")},[j(e.errorIcon,pe("error-icon"),s.error)]):void 0,null==(t=s.default)?void 0:t.call(s)])}}})),[me,ve]=I("card");const be=U(e({name:me,props:{tag:String,num:M,desc:String,thumb:String,title:String,price:M,centered:Boolean,lazyLoad:Boolean,currency:J("¥"),thumbLink:String,originPrice:M},emits:["clickThumb"],setup(e,{slots:t,emit:a}){const l=()=>{if(t.tag||e.tag)return n("div",{class:ve("tag")},[t.tag?t.tag():n(ue,{mark:!0,type:"primary"},{default:()=>[e.tag]})])},i=()=>{if(t.thumb||e.thumb)return n("a",{href:e.thumbLink,class:ve("thumb"),onClick:e=>a("clickThumb",e)},[t.thumb?t.thumb():n(fe,{src:e.thumb,fit:"cover",width:"100%",height:"100%",lazyLoad:e.lazyLoad},null),l()])},o=()=>{const t=e.price.toString().split(".");return n("div",null,[n("span",{class:ve("price-currency")},[e.currency]),n("span",{class:ve("price-integer")},[t[0]]),t.length>1&&n(b,null,[g("."),n("span",{class:ve("price-decimal")},[t[1]])])])};return()=>{var a,l,s;const c=t.num||V(e.num),r=t.price||V(e.price),u=t["origin-price"]||V(e.originPrice),d=c||r||u||t.bottom,p=r&&n("div",{class:ve("price")},[t.price?t.price():o()]),f=u&&n("div",{class:ve("origin-price")},[t["origin-price"]?t["origin-price"]():"".concat(e.currency," ").concat(e.originPrice)]),m=c&&n("div",{class:ve("num")},[t.num?t.num():"x".concat(e.num)]),v=t.footer&&n("div",{class:ve("footer")},[t.footer()]),b=d&&n("div",{class:ve("bottom")},[null==(a=t["price-top"])?void 0:a.call(t),p,f,m,null==(l=t.bottom)?void 0:l.call(t)]);return n("div",{class:ve()},[n("div",{class:ve("header")},[i(),n("div",{class:ve("content",{centered:e.centered})},[n("div",null,[t.title?t.title():e.title?n("div",{class:[ve("title"),"van-multi-ellipsis--l2"]},[e.title]):void 0,t.desc?t.desc():e.desc?n("div",{class:[ve("desc"),"van-ellipsis"]},[e.desc]):void 0,null==(s=t.tags)?void 0:s.call(t)]),b])]),v])}}})),ge=[{url:"https://m.360buyimg.com/mobilecms/s120x120_jfs/t1/125678/35/5947/4868/5efbf28cEbf04a25a/e2bcc411170524f0.png.webp",title:"京东超市"},{url:"https://m.360buyimg.com/mobilecms/s120x120_jfs/t1/135931/4/3281/5598/5efbf2c0Edbdc82c7/ed9861b4ddfb9f30.png.webp",title:"数码电器"},{url:"https://m.360buyimg.com/mobilecms/s120x120_jfs/t1/140012/8/1804/3641/5efbf318E38bd5dad/0db99d859ab16ce9.png.webp",title:"京东服饰"},{url:"https://m.360buyimg.com/mobilecms/s120x120_jfs/t1/129215/21/5978/3618/5efbf344Ebec23ae8/59712d986b10bb0a.png.webp",title:"京东生鲜"},{url:"https://m.360buyimg.com/mobilecms/s120x120_jfs/t1/116602/7/11200/3796/5efbf375Ebba41029/f07cc166f368fa05.png.webp",title:"京东到家"},{url:"https://m.360buyimg.com/mobilecms/s120x120_jfs/t1/146390/3/1846/4909/5efbf39aEe5f5f797/300071558a9ab078.png.webp",title:"充值缴费"},{url:"https://m.360buyimg.com/mobilecms/s120x120_jfs/t1/150351/19/14167/6853/5fed882dE195ef673/b2aa7d67e675baf8.png.webp",title:"9.9元拼"},{url:"https://m.360buyimg.com/mobilecms/s120x120_jfs/t1/113589/24/11332/4897/5efbf3feE705d87db/e5c12d5e943266b9.png.webp",title:"领券"},{url:"https://m.360buyimg.com/mobilecms/s120x120_jfs/t1/131663/33/3380/3674/5efbf50fEf79cf314/af4b57d2383e605d.png.webp",title:"领金贴"},{url:"https://m.360buyimg.com/mobilecms/s120x120_jfs/t1/123730/37/5924/4189/5efbf567E0a226121/d04df7c74c87cf68.png.webp",title:"PLUS会员"},{url:"https://m.360buyimg.com/mobilecms/s120x120_jfs/t1/142596/7/1864/4759/5efbf5a9E60c62b8a/49cdd24cb2bfecf5.png.webp",title:"京东国际"},{url:"https://m.360buyimg.com/mobilecms/s120x120_jfs/t1/125193/15/5993/3443/5efbf5dbEa3327124/a4282d5cb2879c8b.png.webp",title:"京东拍卖"},{url:"https://m.360buyimg.com/mobilecms/s120x120_jfs/t1/133947/24/3428/4213/5efbf625E7e1b4e98/95fda84d8748f88d.png.webp",title:"唯品会"},{url:"https://m.360buyimg.com/mobilecms/s120x120_jfs/t1/145692/9/1817/4493/5efbf652E61c4f3ec/722840c121d67fc6.png.webp",title:"玩3C"},{url:"https://m.360buyimg.com/mobilecms/s120x120_jfs/t1/118396/30/11271/2692/5efbf680Eb3a3cf32/c3e85c4d99746400.png.webp",title:"沃尔玛"},{url:"https://m.360buyimg.com/mobilecms/s120x120_jfs/t1/123571/19/6008/3747/5efbf6b2E03153a36/9ddc9036ba1c11a1.png.webp",title:"美妆馆"},{url:"https://m.360buyimg.com/mobilecms/s120x120_jfs/t1/115003/18/11199/3519/5efbf6eaEe59cb7f6/dab44230606cd112.png.webp",title:"京东旅行"},{url:"https://m.360buyimg.com/mobilecms/s120x120_jfs/t1/142258/17/1800/4509/5efbf70aEb23e164e/61aaea8fe5221081.png.webp",title:"拍拍二手"},{url:"https://m.360buyimg.com/mobilecms/s120x120_jfs/t1/116056/30/11288/4223/5efbf753Ee7cf2cd7/3977b5fe42b136e4.png.webp",title:"物流查询"},{url:"https://m.360buyimg.com/mobilecms/s120x120_jfs/t1/112559/35/11283/3523/5efbf774E285d108b/c0fa626df4979a21.png.webp",title:"全部"}],he=["src"],we=z(e({name:"Home",__name:"index",setup(e){function t(){j.back()}const a=["https://img.yzcdn.cn/vant/apple-1.jpg","https://img.yzcdn.cn/vant/apple-2.jpg"];return(e,l)=>{const i=ce,o=ie,s=P,c=B,r=be;return _(),h(b,null,[n(o,{autoplay:3e3,"lazy-render":""},{default:w((()=>[(_(),h(b,null,x(a,(e=>n(i,{key:e},{default:w((()=>[E("img",{src:e},null,8,he)])),_:2},1024))),64))])),_:1}),100===a.length?(_(),h("button",{key:0,onClick:t},"返回")):y("",!0),n(o,{"lazy-render":"",loop:!1},{default:w((()=>[(_(),h(b,null,x(2,(e=>n(i,{key:e},{default:w((()=>[n(c,{square:"","column-num":5},{default:w((()=>[(_(!0),h(b,null,x(k(ge).slice(k(ge).length*(e-1)/2,k(ge).length*e/2),(e=>(_(),S(s,{key:e.title,icon:e.url,text:e.title},null,8,["icon","text"])))),128))])),_:2},1024)])),_:2},1024))),64))])),_:1}),(_(),h(b,null,x(10,(e=>n(r,{key:e,num:e,tag:"标签",price:e.toFixed(2),desc:"描述信息",title:"商品标题",thumb:"https://img.yzcdn.cn/vant/ipad.jpeg","origin-price":(10*e).toFixed(2)},null,8,["num","price","origin-price"]))),64))],64)}}}),[["__scopeId","data-v-94c527bf"]]);export{we as default};
